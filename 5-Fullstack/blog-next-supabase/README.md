# Cidadela Digital: Blog Fullstack com Next.js e Supabase

![Next.js](https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=next.js&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)
![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white)
![TailwindCSS](https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=for-the-badge&logo=tailwind-css&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-4169E1?style=for-the-badge&logo=postgresql&logoColor=white)

Este projeto √© uma aplica√ß√£o de blog fullstack completa, constru√≠da com o framework Next.js e utilizando o Supabase como nossa plataforma de Back-end como Servi√ßo (BaaS) para banco de dados e autentica√ß√£o.

## üéØ Vis√£o Geral do Projeto

A "Cidadela Digital" √© um case de estudo sobre a constru√ß√£o de aplica√ß√µes web modernas, reativas e seguras. O projeto implementa um fluxo completo de utilizador, desde a cria√ß√£o de conta e login at√© a cria√ß√£o, visualiza√ß√£o, edi√ß√£o e dele√ß√£o de posts em um painel de controlo protegido.

O foco principal foi a utiliza√ß√£o de funcionalidades modernas do Next.js, como **Server Components** para renderiza√ß√£o r√°pida e segura no servidor, e **Server Actions** para muta√ß√µes de dados, al√©m da implementa√ß√£o de seguran√ßa a n√≠vel de base de dados com o **Row Level Security (RLS)** do Supabase.

## ‚ú® Funcionalidades Implementadas

- **Listagem P√∫blica de Posts:** A p√°gina inicial √© renderizada no servidor (SSR) para m√°xima performance e SEO.
- **P√°ginas de Detalhe Din√¢micas:** Cada post possui sua pr√≥pria p√°gina, gerada dinamicamente.
- **Autentica√ß√£o de Utilizadores:** Sistema completo de cria√ß√£o de conta e login gerenciado pelo Supabase Auth.
- **Painel de Controlo Protegido (`/dashboard`):** √Årea restrita onde utilizadores autenticados podem ver e criar seus posts.
- **Opera√ß√µes CRUD Completas:** Implementa√ß√£o de `Create`, `Read`, `Update` e `Delete` para os posts.
- **Seguran√ßa Granular:** Utiliza√ß√£o de Pol√≠ticas de **Row Level Security (RLS)** no PostgreSQL para garantir que um utilizador s√≥ possa editar e deletar os seus pr√≥prios posts.

## üõ†Ô∏è Tecnologias Utilizadas

- **Framework:** Next.js (App Router)
- **Biblioteca UI:** React
- **Back-end & Autentica√ß√£o:** Supabase (PostgreSQL Database, Auth)
- **Estiliza√ß√£o:** TailwindCSS
- **Comunica√ß√£o Cliente-Servidor:** Server Actions
- **Bibliotecas Auxiliares:** `@supabase/auth-helpers-nextjs`, `@supabase/auth-ui-react`

## ‚öôÔ∏è Como Executar Localmente

1.  **Clone o reposit√≥rio e instale as depend√™ncias:**
    ```bash
    git clone [URL_DO_SEU_REPO]
    cd blog-next-supabase
    npm install
    ```

2.  **Configure o Supabase:**
    - Crie um projeto no [Supabase](https://supabase.com).
    - No "SQL Editor", execute o script SQL contido neste `README` para criar a tabela `posts` e as pol√≠ticas de seguran√ßa.
    - Na raiz do seu projeto local, crie um ficheiro `.env.local`.
    - Adicione suas credenciais do Supabase (encontradas em "Project Settings" > "API") a este ficheiro:
      ```env
      NEXT_PUBLIC_SUPABASE_URL=SUA_PROJECT_URL_AQUI
      NEXT_PUBLIC_SUPABASE_ANON_KEY=SUA_ANON_PUBLIC_KEY_AQUI
      ```

3.  **Inicie o servidor de desenvolvimento:**
    ```bash
    npm run dev
    ```

4.  Abra seu navegador e acesse `http://localhost:3000`.

### üóÑÔ∏è Esquema do Banco de Dados (SQL para Supabase)
```sql
-- Cria a tabela de posts
create table posts (
  id bigint generated by default as identity primary key,
  user_id uuid references auth.users not null,
  title text check (char_length(title) >= 3),
  content text,
  inserted_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Habilita Row Level Security (RLS)
alter table posts enable row level security;

-- Cria pol√≠ticas de acesso
create policy "Todos podem ler os posts." on posts for select using (true);
create policy "Utilizadores autenticados podem criar posts." on posts for insert with check (auth.uid() = user_id);
create policy "Utilizadores podem atualizar os seus proprios posts." on posts for update using (auth.uid() = user_id);
create policy "Utilizadores podem deletar os seus proprios posts." on posts for delete using (auth.uid() = user_id);